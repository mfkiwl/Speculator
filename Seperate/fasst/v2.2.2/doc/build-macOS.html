<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FASST: Build on MacOs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FASST
   </div>
   <div id="projectbrief">Flexible Audio Source Separation Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Build on MacOs </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md13">Install Homebrew package manager</a></li>
<li class="level1"><a href="#autotoc_md14">Install FASST dependencies</a></li>
<li class="level1"><a href="#autotoc_md15">Install FASST example dependencies (optional)</a></li>
<li class="level1"><a href="#autotoc_md16">Build FASST (FASST directory)</a><ul><li class="level2"><a href="#autotoc_md17">OpenMP status and compiler choice</a></li>
<li class="level2"><a href="#autotoc_md18">Build steps</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md19">Run test</a></li>
<li class="level1"><a href="#autotoc_md20">Packaging</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md13"></a>
Install Homebrew package manager</h1>
<pre class="fragment">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
</pre><h1><a class="anchor" id="autotoc_md14"></a>
Install FASST dependencies</h1>
<pre class="fragment">brew install wget libsndfile python cmake gcc eigen
pip2 install numpy
pip2 install spicy
</pre><h1><a class="anchor" id="autotoc_md15"></a>
Install FASST example dependencies (optional)</h1>
<p><b>PEASS v2.0.1</b></p>
<p>Source separation measurements backend (in Matlab) used in exemple 2.</p>
<p>Detection of PEASS on your computer is automatically done with cmake but PEASS has to be previously installed. In the following steps, we assume that PEASS will be installed in the home (~), but you can replace it by your own directory To do so, please refer to the followings steps in a new terminal : </p><pre class="fragment">cd ~
mkdir peass
cd peass
wget http://bass-db.gforge.inria.fr/peass/PEASS-Software-v2.0.1.zip
unzip PEASS-Software-v2.0.1.zip
cd PEASS-Software-v2.0.1
wget http://medi.uni-oldenburg.de/download/demo/adaption-loops/adapt_loop.zip
unzip adapt_loop.zip
Open Matlab and compile the MEX files by running compile.m (this is optional but leads to much faster computation).
Edit your .bash_profile file and add following line to export PEASS to the environment variable "PATH":
    export PATH=:"~/peass/PEASS-Software-v2.0.1:$PATH"
Launch a new terminal to take into account the new environment variable "PATH"
</pre><h1><a class="anchor" id="autotoc_md16"></a>
Build FASST (FASST directory)</h1>
<h2><a class="anchor" id="autotoc_md17"></a>
OpenMP status and compiler choice</h2>
<p>OpenMP is used by FASST to accelerate some parts of code (parallellization). LLVM-Clang compiler does not support natively OpenMP but you can activate it following the guidelines on <a href="https://llvm.org">https://llvm.org</a> . GCC compiler supports natively OpenMP.</p>
<p>Current implementation for packaging was realised with g++-7. Using another compiler or compiler version implies modifying the code to fullfill your specific requirements.</p>
<p>If you don't need packaging tools, any compiler can be used (keeping in mind OpenMP specific requirements if cpu consumption optimization is one of your concerns)</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Build steps</h2>
<dl class="section note"><dt>Note</dt><dd>Replace the $COMPILER variable by using "clang" or "g++-7"</dd></dl>
<pre class="fragment">mkdir build_dir
cd build_dir
cmake ../src_dir -DCMAKE_CXX_COMPILER=$COMPILER
make
</pre><p>Optional flags can be activated to build unit test projects and select the build type (Debug/Release): </p><pre class="fragment">mkdir build_dir
cd build_dir
cmake ../src_dir -DCMAKE_CXX_COMPILER=$COMPILER -DTEST=1 -DCMAKE_BUILD_TYPE="Release"
make
</pre><h1><a class="anchor" id="autotoc_md19"></a>
Run test</h1>
<p>If the optional flag to build the unit test projects has been activated at the previous step, then execute in the build_dir directory: </p><pre class="fragment">ctest
</pre><h1><a class="anchor" id="autotoc_md20"></a>
Packaging</h1>
<dl class="section note"><dt>Note</dt><dd>For g++-7 compiler only <pre class="fragment">./generate_osx_installer.sh </pre> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 3 2020 23:02:50 for FASST by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
